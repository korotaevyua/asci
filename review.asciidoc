== Выбор технологии изготовления и библиотек элементов и макросов памяти

При достижении технологических норм порядка 20 нанометров стало ясно, что в связи с возрастающей ролью паразитных короткоканальных эффектов, ростом токов утечек и других факторов, дальнейшее улучшение характеристик полупроводниковых приборов не может выполняться исключительно за счет  масштабирования существующих технологий. Необходим был переход от планарной реализации транзисторов к иной структуре, которая позволила бы продолжить дальнейшее развитие микроэлектроники и улучшение характеристик по быстродействию, занимаемой площади и мощности потребления. 

Анализ технического задания показал, что для достижения требуемых характеристик по быстродействию и энергопотреблению, будет недостаточно планарной технологии. Причина, по которой планарная технология не подходит для дальнейшего масштабирования состоит в том, что уменьшение размера транзистора приводит к потере контроля над каналом со стороны затвора. Как следствие чрезвычайно возрастают токи утечки. Улучшения планарной технологии, такие как изменение типа подзатворного диэлектрика, не дали достаточный положительный результат.

Для решения описанных проблем были разработаны транзисторы FinFET. Их структура в сравнении со структурой планарного транзистора представлена на рисунке <<figure-fin_vs_planar>> В отличие от планарной технологии, канал выполнен в виде тонкой вертикальной кремниевой структуры (плавник, англ. Fin), которая с трех сторон окружена затвором.

[#figure-fin_vs_planar]
.Сравнение структуры планарного (а) и FinFET (b) транзисторов
image::fin_vs_planar.png[fin_vs_planar, width=80%, high=80%]

Такая структура обеспечивает лучший электростатический контроль заряда в канале. Благодаря этому уменьшаются токи утечки, а также увеличивается крутизна переходной характеристики, что ведет к увеличению быстродействия транзисторов. 

Также FinFET транзисторы не нуждаются в дополнительном легировании области канала. Из-за этого наблюдается меньшая вариация параметров от транзистора к транзистору. 

Применение FinFET позволяет уменьшить влияние большого количества короткоканальных эффектов, в частности: 

* DIBL(англ. Drain Induced Barrier Lowering) — влияние напряжения на стоке на эффективное значение порогового напряжения;
* GIDL(англ. Gate Induced Leakage Current) — токи утечки стока, индуцированные затвором;
* CLM(англ. Channel Lengh Modulation) — эффект модуляции длины канала(уменьшение эффективной длины канала за счет увеличения обедненной области p-n перехода стока).
     
В результате можно выделить следующие преимущества FinFET технологии:

* Более высокое быстродействие;
* Подавление геометрических короткоканальных эффектов;
* Высокое отношение токов в открытом и закрытом состоянии ;
* Меньший ток утечки и динамическое потребление;
* Возможность реализации более высокой степени интеграции.

По данным сравнительного анализа технологий TSMC 16нм и 28нм, проведенного компанией Synopsys, применение FinFET технологии дает преимущество до 50% в площади и более чем 30% в производительности. На рисунке <<figure-ris2>> представлены результаты данного сравнения.

[#ris2]
.Сравнение технологий по площади и быстродействию
image::ris2.jpg[ris2, width=80%, high=80%]

Также наблюдается значительное снижение доли утечек в общей мощности для системы на кристалле, что отражено на рисунке <<figure-ris3>>.

[#ris3]
.Доля утечек в общем потребления
image::ris3.jpg[ris3, width=70%, high=70%]

Существуют 4 крупных компании, которые имеют фабрики, способные осуществлять производство микроэлектронной продукции на основе FinFET транзисторов. Это TSMC, Intel и Samsung и Global Foundries. На сегодняшний день большинство компаний предлагают несколько вариаций FinFET технологий. Они представлены в таблице <<table-review>>.

.Сравнение FinFET-технологий TSMC, Intel и Samsung
[#table-review,width="100%",cols="^2,^2,^2,^2,^2,^2,^2,^2,^2",options="header"]
|=======================
|№ 2+^|TSMC 2+^|Intel 2+^|Samsung 2+^|Global Foundries
||Тех. проц. (год)|Название|Тех. проц. (год)|Название|Тех. проц. (год)|Название|Тех. проц. (год)|Название
|1|"16/12нм (2015, 2017)"|"16FF, 16FF+, 16FFC, 12FFC, 12FFN"|"22нм (2011, 2013)"|"P1270 (CPU), P1271 (SoC), 22FFL (P1222)"|"14нм (2015)"|"14LPE, 14LPP, 14LPC 14LPU"|"14/12нм (2017, 2018)"|14LPP/12LP
|2|10нм (2017)|10FF|"14нм (2014)"|"P1272 (CPU), P1273 (SoC)"|"10нм (2017)"|"10LPE, 10LPP, 10LPU"||
|3|7нм (2018)|"N7, N7P, N7+"|"10нм (2018)"|"P1274 (CPU), P1275 (SoC)"|"7нм (2019)"|"7LPE, 7LPP"||
|4|5нм (2020)|"N5, N5P"|||"5нм (2020)"|5LPP||
|=======================

При этом можно выделить 3 ключевых поколения в зависимости от года появления первой продукции, заявленной технологической нормы и топологических параметров. Однако, Global Foundries имеет только одну версию FinFET технологии 14LPP, которая спустя год была модифицирована до 12LP. 

*1 поколение (14нм-22нм)*
 
В таблице <<table-stage1>>, указаны параметры технологий и характерные размеры, полученные при производстве. 
 
.Сравнение характеристик 1-го поколения FinFET технологий
[#table-stage1,width="100%",cols=cols="^2,^2,^2,^2,^2,^2",options="header"]
|=======================
2.+^||Intel|Samsung|TSMC|GlobalFoundries
2.+^|Название процесса|P1270(CPU)/P1271(SoC) (22нм)|14LPE, 14LPP, 14LPC, 14LPU (14нм)|16FF, 16FF+,16FFC, 12FFC, 12FFN (16нм,16/12нм)|14LLP/12LP (14/12нм)
2.+^|1-аяпродукция|2012|2015|2015|2017
2.+^|Напряжение питания|0.75В|0.80В|0.75В|0.80В
.3+^.^|Плавник|Шаг|60нм|48нм|48нм|42нм
|Ширина|8нм|8нм|Н/Д|10нм
|Высота|34нм|37нм|37нм|25нм
2.+^|Длина затвора|26нм|30нм|34нм|22нм
2.+^|Шаг между контактами затвора|90нм|78нм|90нм|80нм
2.+^|Минимальный шаг металла|80нм|64нм|64нм|64нм
.3+^.^|Площадь SRAMячейки|Высокая производительность|0.130мм²|0.080мм²|Н/Д|0.090мм²
|Высокая плотность|0.092мм²|0.064мм²|0.074мм²|0.081мм²
|Низкое напряжение|0.108мм²|Н/Д|Н/Д|Н/Д
|=======================

Из приведенных данных видно, что технология Intel уступает по характеристикам своим конкурентам. Это объясняется тем, что компания была первопроходцем в области FinFET технологии (на 3-5 лет раньше остальных компаний). 

Необходимо отметить, что уже спустя год соответствующая технология  TSMC получила доработку - уменьшение шага металлизации, за счет чего она по характеристикам приблизилась к Samsung. Вследствие этого данная технология зачастую именуется как TSMC 16/12 FFC/FFN в связи с тем, что разработанная в дальнейшем технология 12 нанометров применяется с тем же набором правил проектирования, что и ее предшественник - 16 нм FinFET.

Аналогично, компания Global Foundries через год после запуска  первой FinFET технологии произвела ее модификацию до 12LP. Основное отличие 12нм технологии состоит в иной структуре стандартных ячеек. Разница в характеристиках для 14LLP и 12LP представлена на рисунке <<figure-ris4>>. Также увеличилось число транзисторов на единицу площади.

[#ris4]
.Сравнение технологий 14LLP и 12LP от Global Foundries
image::ris4.png[ris4, width=60%, high=60%]

*2 поколение (10нм-14нм)*

В 2014 году Intel представила технологию 14 нанометров. Ее отличительными особенностями являются более высокие, тонкие и расположенные с меньшим шагом «плавники» транзисторов, количество которых уменьшилось. Благодаря чему увеличилось число транзисторов на единицу площади и снизилась паразитная емкость, а площадь SRAM-ячейки на этой технологии уменьшилась почти вдвое по сравнению с 22-нанометровой технологией. Более подробно различия отражены на рисунке <<figure-ris5>>.

[#ris5]
.Дальнейшее развитие технологии Intel
image::ris5.png[ris5, width=50%, high=50%]

Samsung и TSMC для перехода к 10нм процессу применяли новые «многошаблонные» методы литографии, такие как SAQP(англ. Self-Aligned Quadruple Patterning), которые позволили реализовать «плавники» необходимого размера.

По сравнению с предыдущем поколением компании декларируют максимальный рост производительности:
     * Samsung на 27%;
    * TSMC на 15%;
    * Intel на 25%.
  Максимальное снижение энергопотребления:
    * Samsung на 40%;
    * TSMC на 35%;
    * Intel на 60%.
А также число выросло число транзисторов на единицу площади. 

В таблице <<table-stage2>>, указаны параметры технологий и характерные размеры, полученные при производстве.

.Сравнение характеристик 2 поколения технологий
[#table-stage2,width="100%",cols="^2,^2,^2,^2,^2,^2,^2,^2",options="header"]
|=======================
2.+^| 2.+^|Intel 2.+^|Samsung 2.+^|TSMC
2.+^|Название процесса  2.+^|P1272(CPU) / P1273 (SoC) (14нм) 2.+^|10LPE, 10LPP, 10LPU (10нм)  2.+^| 10FF (10нм)
2.+^|1-аяпродукция 2.+^|2014 2.+^|2017 2.+^|2017
2.+^|Напряжение питания 2.+^|0.70В 2.+^|0.75В 2.+^|0.70В
2.+^||Значение|Δ|Значение|Δ|Значение|Δ
.3+^.^|Плавник|Шаг|42нм|0.70x|42нм|0.88x|48нм|0.75x
|Ширина|8нм|1.00x|Н/Д|Н/Д|6нм|Н/Д
|Высота|42нм|1.24x|Н/Д|Н/Д|42нм|1.35x
2.+^|Шаг между контактами затвора |70нм|0.78x|67нм|0.87x|66нм|0.73x
2.+^|Минимальный шаг металла |52нм|0.65x|48нм|0.75x|44нм|0.69x
.3+^.^|Площадь SRAMячейки|Высокая производительность|0.0706мм²|0.54x|0.049мм²|0.61x|Н/Д|Н/Д
|Высокая плотность|0.0499мм²|0.54x|0.040мм²|0.63x|0.042мм²|0.57x
|Низкое напряжение|0.0588мм²|0.54x|Н/Д|Н/Д|Н/Д|Н/Д
|=======================

*3 поколение. Наиболее современные технологии 7нм-10нм*
    
Для перехода к 7-10нм процессу и ниже, компании применяют «многошаблонные» методы литографии, оптимизацию в зоне FEOL (Front-End-Of-The-Line) и MOL (Middle-Of-The-Line), а также наиболее инновационный метод: фотолитография в глубоком ультрафиолете, которая требует достаточно мощных источников излучения, а также использования вакуума, что говорит о высокой стоимости технологии.

По сравнению с предыдущем поколением компании декларируют максимальный рост производительности:
   
* Samsung на 20%;
* TSMC на 20%;
* Intel на 25%.

Максимальное снижение энергопотребления:
 
* Samsung на 40%;
* TSMC на 40%;
* Intel на 50%.

В таблице <<table-stage3>>, указаны параметры технологий и характерные размеры, полученные при производстве.

[table-stage3,width="100%",cols="^2,^2,^2,^2,^2,^2,^2,^2",options="header"]
.Сравнение характеристик 3 поколения технологий
|=======================
2.+^| 2.+^|Intel 2.+^|Samsung 2.+^|TSMC
2.+^|Название процесса  2.+^|P1274(CPU) / P1275 (SoC) (10нм) 2.+^|17LPE, 7LPP (7нм)  2.+^| N7, N7P, N7+ (7нм)
2.+^|1-аяпродукция 2.+^|2018 2.+^|2019 2.+^|2018
2.+^|Напряжение питания 2.+^|0.70В 2.+^|0.75В 2.+^|0.70В
2.+^||Значение|Δ|Значение|Δ|Значение|Δ
.3+^.^|Плавник|Шаг|34нм|0.81x|27нм|0.64х|30нм|0.83х
|Ширина|7нм|0.88x|Н/Д|Н/Д|6нм|1.00x
|Высота|53нм|1.26x|Н/Д|Н/Д|52нм|1.24х
2.+^|Шаг между контактами затвора |54нм|0.77x|60нм|0.79x|64нм|0.82x
2.+^|Минимальный шаг металла |36нм|0.69x|36нм|0.75x|40нм|0.95x
.3+^.^|Площадь SRAMячейки|Высокая производительность|0.0441мм²|0.62x|0.032мм²|0.65x|Н/Д|Н/Д
|Высокая плотность|0.0312мм²|0.62x|0.026мм²|0.65x|0.027мм²|0.64x
|Низкое напряжение|0.0367мм²|0.62x|Н/Д|Н/Д|Н/Д|Н/Д
|=======================

На рисунке <<figure-ris6>> продемонстрировано изменение количества транзисторов на единицу площади для всех FinFET технологий. 

[#ris6]
.Сравнение числа транзисторов на единицу площади для разных технологических процессов
image::ris6.png[ris6, width=70%, high=70%]

Из графика видно, что количество транзисторов на единицу площади у технологии Intel 10 нм примерно соответствует технологиям TSMC/Samsung 7 нм. А также этот график объясняет почему поколения для сравнения были сформированы именно таким образом. Global Foundries не представлена на графике, так как имеет схожее с Samsung число транзисторов на единицу площади.

На рисунке <<figure-ris7>> продемонстрировано общее технологическое развитие компании TSMC. А также оценочные улучшения по быстродействию (П) и энергопотреблению (М), которые декларирует компания TSMC.
[#ris7]
.Технологическое развитие компании TSMC
image::ris7.png[ris7, width=80%, high=80%]

На сегодняшний день тайваньская компания TSMC обладает технологиями производства микросхем с нормами 90, 65, 45, 40, 28, 20, 16/12, 10, 7 и 5 нанометров. В данной линейке TSMC подробнее рассмотрим технологию 16/12 нанометров, которая пользуется наибольшей популярностью сейчас. Это связано с тем, что наряду с успешной 16-нанометровой FinFET технологией, TSMC так же представил две вариации на неё: 16 нм FinFET Plus (16FF+) и 16 нм FinFET Compact Technology (16FFC). Первая вариация быстро набрала популярность благодаря повышенной (по сравнению с оригиналом) производительностью, в среднем на 10%, вторая – благодаря более низкому энергопотреблению.

Для демонстрации скачка в производительности и оптимизации потребления, TSMC приводит следующие сравнительные значения с 28-нанометровой технологией: прирост производительности составил 40-45%, в то время как потребляемая кристаллом мощность снизилась на 35-40%. 

С точки зрения достижения производительности, технология TSMC 16FFC полностью подходит для реализации проекта. Согласно техническому заданию, тактовая частота процессорного ядра центрального процессорного устройства (ЦПУ) должна быть не менее 1,5 ГГц. Планируется применение ядер ARM Cortex-A75. Исходя из данных, представленных компанией ARM, на ядре Cortex-A75 можно достичь частоты в 2 ГГц при использовании технологии 6FF+, которая на 10% быстрее, чем выбранная нами технология 16FFC. Исходя из этих данных можно получить оценочную максимальную частоту для технологии 16FFC. Данные приведены в таблице <<table-freq>>.

[#table-freq,width="100%",cols="^2,^2,^2",options="header"]
.Сравнение максимальной частоты для технологий 16FF+ и 16FFC
|=======================
|Технологический угол|Максимальная частота Cortex-A75, 16FF+ (ГГц)|Оценочная максимальная частота Cortex-A75, 16FFC (ГГц)
|SSG_0.72V 0°С, AOCV|2|1.8
|TT_0.90V 90°С, AOCV|2.5|2.2
|=======================

Так же стоит отметить, что компания ARM приводит данные при пониженном напряжении и температуре 0°С, что при аппроксимации для температуры -60°С выливается в снижении частоты на 10-15%. Следовательно, максимальная оценочная частота для ядра ARM Cortex-A75 в худшем по быстродействию технологическом угле будет составлять 1,5-1,6 ГГц. 

Стоит отметить, что оценочное потребление проекта значительно превышает максимально допустимую границу технического задания по потреблению при разработке проекта по технологии 16FFC, поэтому можно рассмотреть возможность использования технологии 7 нанометров от компании TSMC. Более подробно об энергопотреблении проекта изложено в главе 4.1.13.3.

С точки зрения экономических ресурсов целесообразность использования технологии 16FFC очевидна. При уменьшении технологических норм резко возрастает цена за единицу площади пластины (рис. 7). Это связано с тем, что, пройдя технологическую границу в 12 нанометров, в пластинах возникают паразитные температурные явления, которые необходимо контролировать. Таким образом, значительно усложняется процесс изготовления микросхем и, как следствие, увеличивается цена изготовления. Из описанного выше следует, что в случае возникновения критического превышения энергопотребления кристалла на базе 16FFC относительно требований технического задания, может возникнуть необходимость выбора между целевой энергоэффективностью и высокой стоимостью изготовления кристалла на базе технологии 7 нанометров. На рисунке <<figure-ris8>> приведены графики, отражающие ценообразование изготовления микросхем на фабрике компании TSMC.

[#ris8]
.Технологическое развитие компании TSMC
image::ris8.jpg[ris8]

К экономическим преимуществам технологии 16FFC так же можно отнести и возможность изготовления мелкосерийных партий. Это выгодно отличает компанию TSMC от, например, компаний Intel и Samsung - изготовление малых партий на заводах последних значительно дороже или невозможно.

Таким образом, можно сделать вывод, что технология 16FFC от компании TSMC является оптимальным вариантом решения поставленной задачи с точки зрения производительности, экономических и инженерных ресурсов, однако с точки зрения конечного потребления целесообразно использование 7-нанометровой технологии.
